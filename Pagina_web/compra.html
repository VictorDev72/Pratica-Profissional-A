<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #FFEFDA;
    }

    header {
      background-color: #E6CBA8;
      width: 100%;
      height: 100px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    h1,
    h2,
    h3 {
      text-align: center;
    }

    .logo {
      width: 146px;
      height: 71px;
    }

    a {
      color: #5E3023;
      text-decoration: none;
      margin-left: 10px;
      margin-right: 10px;
    }

    .botao {
      color: #FFFDFD;
      background-color: #FF8C00;
      padding: 15px;
      border-radius: 5px;
    }

    section {
      background-color: #fff5e6;
      padding: 20px 30px;
      border-radius: 8px;
      width: 800px;
      margin: auto
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-size: 14px;
    }

    input,
    select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .row {
      display: flex;
      gap: 10px;
    }

    .row input {
      flex: 1;
    }

    .cards img {
      height: 25px;
      margin-right: 5px;
    }

    .cards {
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .valor-total {
      margin-top: 15px;
      font-weight: bold;
    }

    button {
      background-color: #FF9900;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      padding: 12px;
      width: 100%;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background-color: #e68a00;
    }

    footer {
      background: #E6CBA8;
      padding: 20px;
      text-align: center;
    }

    footer ul {
      display: flex;
      justify-content: center;
      gap: 15px;
      list-style: none;
      padding: 0;
      margin: 10px 0 0;
    }

    footer li {
      cursor: pointer;
    }

    footer ul li a:hover {
      color: white;
    }

    /* Estilos adicionais para a seção de carrinho */
    #carrinho-compra {
      background: #fff5e6;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px #0001;
    }

    #lista-carrinho-compra {
      border-bottom: 1px solid #ccc;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    #lista-carrinho-compra div {
      padding: 8px 0;
    }
  </style>
</head>

<body>
  <header>
    <div>
      <img class="logo" src="imagens/logo_final.png" alt="">
    </div>
    <div>
      <a href="produtos.html">Carrinho</a>
      <a href="landing_page.html">Sobre</a>
      <a href="PaginaCadastro.html">Cadastrar</a>
      <a href="PaginaLogin.html" class="botao">Entrar</a>
    </div>
  </header>
  <section style="display: flex; gap: 40px; justify-content: center; align-items: flex-start;">
    <form style="flex: 1; min-width: 350px;">
      <h1>FINALIZE SUA COMPRA</h1>
      <label>Nome:</label>
      <input type="text" id="nome">

      <label>E-mail</label>
      <input type="email" id="email">

      <div class="row">
        <div>
          <label>Celular com DDD</label>
          <input type="tel" id="celular">
        </div>
        <div>
          <label>CPF/CNPJ</label>
          <input type="text" id="cpf">
        </div>
      </div>

      <div class="cards" style="display: flex; align-items: center; gap: 20px;">
        <div style="display: flex; align-items: center; gap: 5px;">
          <input type="radio" id="mastercard" name="metodoPag" value="mastercard">
          <label for="mastercard" style="margin: 0; padding: 0;"> </label>
          <img src="https://img.icons8.com/color/48/000000/mastercard.png" alt="Mastercard" />
        </div>
        <div style="display: flex; align-items: center; gap: 5px;">
          <input type="radio" id="visa" name="metodoPag" value="visa">
          <label for="visa" style="margin: 0; padding: 0;"> </label>
          <img src="https://img.icons8.com/color/48/000000/visa.png" alt="Visa" />
        </div>
      </div>

      <label>Número do cartão</label>
      <input type="text" id="numero_cartao">

      <div class="row">
        <div>
          <label>Validade</label>
          <input type="date" id="validade">
        </div>
        <div>
          <label>CVV</label>
          <input type="text" id="cvv">
        </div>
      </div>

      <label>Parcelamento</label>
      <select id="parcelamento">
        <option>1x sem juros</option>
        <option>2x sem juros</option>
        <option>3x sem juros</option>
        <option>6x</option>
        <option>12x</option>
      </select>

      <div class="valor-total">
        VALOR TOTAL: <span id="valor-total-carrinho">R$ 0,00</span>
      </div>

      <button type="submit">FINALIZAR AGORA</button>
    </form>
    <aside id="carrinho-compra" style="flex: 1; min-width: 300px;">
      <h2>Seu Carrinho</h2>
      <div id="lista-carrinho-compra"></div>
      <div style="margin-top: 15px; font-weight: bold;">Total: <span id="total-carrinho-aside">R$ 0,00</span>
      </div>
    </aside>
  </section>
  <footer>
    <p>© 2025 DaRoça - Todos os direitos reservados</p>
    <ul>
      <li><a>Facebook</a></li>
      <li><a>Instagram</a></li>
    </ul>
  </footer>
</body>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Preenchimento automático dos campos do formulário com dados do usuário
    const user = JSON.parse(localStorage.getItem("user"));
    if (user) {
      if (user.prenome) document.getElementById("nome").value = user.prenome;
      if (user.email) document.getElementById("email").value = user.email;
      if (user.celular) document.getElementById("celular").value = user.celular;
      if (user.cpf) document.getElementById("cpf").value = user.cpf;
    }

    // Carrinho: busca do localStorage e exibição
    const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
    let total = 0;
    let html = "";
    carrinho.forEach(item => {
      html += `<div style='border-bottom:1px solid #ccc; margin-bottom:8px; padding-bottom:8px;'>
        <strong>${item.nome}</strong> - R$ ${item.valor.toFixed(2)} x ${item.qtd}
      </div>`;
      total += item.valor * item.qtd;
    });
    document.getElementById("lista-carrinho-compra").innerHTML = html || "<em>Carrinho vazio</em>";
    document.getElementById("total-carrinho-aside").innerText = `R$ ${total.toFixed(2)}`;
    document.getElementById("valor-total-carrinho").innerText = `R$ ${total.toFixed(2)}`;
  });

      document.addEventListener("DOMContentLoaded", () => {
      const token = localStorage.getItem("token");
      
      if  (token){
        const botao = document.querySelector(".botao");
        botao.innerHTML = "Sair";
        botao.href = "landing_page.html";
        botao.onclick = () => {
          if(confirm("Deseja realmente sair?")){
            localStorage.removeItem("token");
            localStorage.removeItem("user");
            window.location.reload();
          }
        }
      }
    });
</script>

</html>
